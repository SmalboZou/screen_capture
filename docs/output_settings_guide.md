# 输出路径和文件名设置详解

## 📁 功能概述

AIcp 录屏软件现在将输出路径和文件名分开设置，提供更灵活的文件管理方式。

## ⚙️ 设置界面

### 📁 输出路径
- **功能**: 选择文件保存的文件夹
- **操作**: 点击"浏览..."按钮选择文件夹，或留空使用默认路径
- **默认值**: 系统视频文件夹（通常为 C:\Users\用户名\Videos）
- **特点**: 只能选择文件夹，不能选择具体文件

### 📝 文件名
- **功能**: 自定义录制文件的文件名
- **操作**: 在输入框中输入想要的文件名，或留空自动生成
- **默认值**: 空（自动生成时间戳文件名）
- **格式**: 支持中文、英文、数字和常见符号

## 🎯 使用场景

### 场景1：完全默认设置
**设置**：
- 输出路径：留空
- 文件名：留空

**结果**：
- 保存位置：系统视频文件夹
- 文件名：AIcp_20250822_143256.mov（自动生成）
- 完整路径：C:\Users\用户名\Videos\AIcp_20250822_143256.mov

**适用**：快速录制，不需要特殊设置

### 场景2：自定义文件夹
**设置**：
- 输出路径：D:\我的录制\项目演示
- 文件名：留空

**结果**：
- 保存位置：D:\我的录制\项目演示
- 文件名：AIcp_20250822_143256.mov（自动生成）
- 完整路径：D:\我的录制\项目演示\AIcp_20250822_143256.mov

**适用**：按项目分类保存录制文件

### 场景3：自定义文件名
**设置**：
- 输出路径：留空
- 文件名：功能演示录制

**结果**：
- 保存位置：系统视频文件夹
- 文件名：功能演示录制.mov（自动添加扩展名）
- 完整路径：C:\Users\用户名\Videos\功能演示录制.mov

**适用**：为录制文件起有意义的名字

### 场景4：完全自定义
**设置**：
- 输出路径：E:\录制视频\教程\第一章
- 文件名：Qt界面设计.mp4

**结果**：
- 保存位置：E:\录制视频\教程\第一章
- 文件名：Qt界面设计.mp4（保持原扩展名）
- 完整路径：E:\录制视频\教程\第一章\Qt界面设计.mp4

**适用**：专业录制，需要精确的文件组织

## 🔧 技术细节

### 文件名处理规则

#### 扩展名自动添加
- **无扩展名**: "我的录制" → "我的录制.mov"
- **有.mov**: "测试.mov" → "测试.mov"（保持不变）
- **有.mp4**: "演示.mp4" → "演示.mp4"（保持不变）
- **其他扩展名**: "文件.avi" → "文件.avi.mov"（添加.mov）

#### 时间戳格式
- **格式**: AIcp_YYYYMMDD_HHMMSS
- **示例**: AIcp_20250822_143256
- **说明**: 
  - YYYY: 4位年份
  - MM: 2位月份
  - DD: 2位日期
  - HH: 24小时制小时
  - mm: 分钟
  - ss: 秒钟

#### 字符处理
- **支持字符**: 中文、英文、数字、空格、下划线、短横线
- **建议避免**: /\:*?"<>| 等特殊字符（Windows文件名限制）
- **长度限制**: Windows文件名最大255字符

### 路径处理规则

#### 默认路径获取
```
Windows: C:\Users\用户名\Videos
macOS: ~/Movies
Linux: ~/Videos
```

#### 路径验证
- 自动创建不存在的文件夹
- 检查写入权限
- 处理路径中的特殊字符

#### 相对路径支持
- 支持相对路径输入
- 自动转换为绝对路径
- 基于当前工作目录解析

## 🚀 高级用法

### 批量录制命名
**方法1：使用前缀**
- 文件名：教程01、教程02、教程03...
- 手动更改数字部分

**方法2：使用时间戳**
- 文件名：留空，自动生成唯一时间戳
- 适合连续录制多个片段

### 项目化管理
**文件夹结构示例**：
```
D:\录制项目\
├── 软件教程\
│   ├── 基础操作\
│   ├── 高级功能\
│   └── 常见问题\
├── 游戏录制\
│   ├── 攻略视频\
│   └── 精彩时刻\
└── 工作演示\
    ├── 项目展示\
    └── 功能测试\
```

### 文件名模板
**建议模板**：
- 教程类：`教程名称_第X章_具体内容`
- 游戏类：`游戏名称_日期_类型`
- 工作类：`项目名称_功能名称_版本`

## 📋 常见问题

### Q: 文件名可以包含中文吗？
A: 可以，完全支持中文文件名，如"我的录制.mov"。

### Q: 如果文件已存在会怎样？
A: 系统会覆盖同名文件，建议使用不同的文件名或让程序自动生成时间戳。

### Q: 可以选择网络驱动器吗？
A: 可以，但建议选择本地驱动器以获得更好的录制性能。

### Q: 路径过长会有问题吗？
A: Windows完整路径限制为260字符，建议控制路径长度。

### Q: 默认格式是什么？
A: 默认保存为.mov格式，也支持.mp4格式。

## 💡 最佳实践

### 文件命名建议
1. **使用有意义的名称**: 避免generic1、test等无意义命名
2. **包含时间信息**: 对于同类录制，建议包含日期或版本
3. **避免特殊字符**: 使用下划线代替空格，避免特殊符号
4. **保持一致性**: 建立自己的命名规范并坚持使用

### 文件夹组织建议
1. **按用途分类**: 教程、游戏、工作等
2. **按时间分类**: 2024年、2025年等
3. **按项目分类**: 项目A、项目B等
4. **定期整理**: 及时移动或删除过期文件

---

通过合理使用输出路径和文件名设置，您可以更好地组织和管理录制的视频文件！
