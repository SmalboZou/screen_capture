# 延时录制功能详细说明

## 📝 功能概述

延时录制功能允许用户自定义录制开始前的等待时间，为准备录制内容提供充足的时间。

## ⚙️ 设置说明

### 延时时间范围
- **最小值**: 0秒（立即开始）
- **最大值**: 60秒
- **默认值**: 2秒
- **调整方式**: 通过数字输入框直接输入或使用上下箭头调整

### 启用条件
延时录制功能只有在启用"录制时自动最小化窗口"时才生效：
- ✅ **已启用自动最小化**: 延时设置控件可用，按设定时间延时
- ❌ **未启用自动最小化**: 延时设置控件变灰，立即开始录制

## 🎯 使用场景

### 0秒延时（立即开始）
适用场景：
- 需要精确控制录制开始时间
- 已经准备好录制内容
- 希望最小化等待时间

操作流程：
1. 启用"录制时自动最小化窗口"
2. 设置延时时间为0秒
3. 点击开始录制
4. 窗口立即最小化并开始录制

### 2-10秒延时（短暂准备）
适用场景：
- 需要切换到其他应用
- 调整窗口布局
- 准备演示内容

操作流程：
1. 启用"录制时自动最小化窗口"
2. 设置延时时间（如5秒）
3. 点击开始录制
4. 利用5秒时间准备内容
5. 窗口自动最小化并开始录制

### 30-60秒延时（充分准备）
适用场景：
- 复杂的演示准备
- 需要打开多个应用
- 系统启动或加载时间较长

操作流程：
1. 启用"录制时自动最小化窗口"
2. 设置延时时间（如30秒）
3. 点击开始录制
4. 充分利用30秒准备时间
5. 窗口自动最小化并开始录制

## 🔄 工作流程图

```
点击开始录制
     ↓
检查自动最小化设置
     ↓
  已启用？ ───否──→ 立即开始录制（不最小化）
     ↓是
检查延时时间设置
     ↓
  延时=0？ ───是──→ 立即最小化并开始录制
     ↓否
显示准备状态信息
     ↓
等待用户设定的延时时间
     ↓
最小化窗口
     ↓
等待1秒（确保窗口完全最小化）
     ↓
开始录制
```

## ⚡ 技术细节

### 精确时间控制
- 使用QTimer实现精确的延时控制
- 延时精度：毫秒级
- 避免系统休眠或其他因素影响

### 用户界面反馈
- **0秒延时**: 显示"立即开始录制..."
- **>0秒延时**: 显示"准备录制中，窗口将在X秒后最小化..."
- **状态颜色**: 蓝色表示立即开始，黄色表示等待中

### 兼容性保证
- 与定时录制功能完全兼容
- 不影响手动停止录制
- 支持所有录制设置组合

## 🧪 测试建议

### 基本功能测试
1. **0秒延时测试**: 验证立即开始功能
2. **常用延时测试**: 测试2-10秒常用延时
3. **极限延时测试**: 测试60秒最大延时
4. **控件联动测试**: 验证自动最小化开关控制延时控件

### 实际场景测试
1. **桌面录制**: 测试桌面操作录制效果
2. **应用录制**: 测试特定应用录制效果
3. **游戏录制**: 测试游戏场景录制效果
4. **多显示器**: 测试多显示器环境延时功能

## 💡 使用技巧

### 最佳实践
- **首次使用**: 建议从5秒延时开始，熟悉功能
- **日常使用**: 根据具体需求调整延时时间
- **演示录制**: 建议使用10-30秒延时充分准备
- **快速录制**: 使用0-2秒延时快速开始

### 避免问题
- **延时过短**: 可能没有足够时间准备
- **延时过长**: 可能忘记录制已开始
- **频繁调整**: 建议找到适合的延时时间后固定使用

## 📋 更新日志

### v2.1.0
- ✅ 延时时间范围扩展至0-60秒
- ✅ 支持0秒延时（立即开始）
- ✅ 优化延时逻辑和用户界面反馈
- ✅ 完善测试脚本和文档

### v2.0.0
- ✅ 初始延时录制功能（1-30秒）
- ✅ 基础UI和控件联动

---

通过合理使用延时录制功能，您可以获得更专业、更流畅的录制体验！
