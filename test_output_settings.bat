@echo off
chcp 65001 >nul
echo 输出路径和文件名分离功能测试脚本
echo ==========================================
echo.
echo 功能说明：
echo 1. 输出路径：只选择保存文件夹
echo 2. 文件名：用户自定义或自动生成
echo 3. 默认路径：系统视频文件夹
echo 4. 自动扩展名：.mov或.mp4
echo.
echo 测试场景：
echo [测试1] 默认设置
echo   - 输出路径：留空（使用默认视频文件夹）
echo   - 文件名：留空（自动生成时间戳文件名）
echo   - 预期结果：文件保存到 影片/AIcp_20250822_HHMMSS.mov
echo.
echo [测试2] 自定义文件夹
echo   - 输出路径：点击浏览，选择自定义文件夹
echo   - 文件名：留空（自动生成时间戳文件名）
echo   - 预期结果：文件保存到 自定义文件夹/AIcp_20250822_HHMMSS.mov
echo.
echo [测试3] 自定义文件名
echo   - 输出路径：留空（使用默认视频文件夹）
echo   - 文件名：输入"我的录制"
echo   - 预期结果：文件保存到 影片/我的录制.mov
echo.
echo [测试4] 完全自定义
echo   - 输出路径：选择自定义文件夹
echo   - 文件名：输入"测试录制.mp4"
echo   - 预期结果：文件保存到 自定义文件夹/测试录制.mp4
echo.
echo [测试5] 扩展名处理
echo   - 文件名：输入"无扩展名文件"
echo   - 预期结果：自动添加.mov扩展名
echo.
echo [测试6] 浏览按钮功能
echo   - 点击"浏览..."按钮
echo   - 预期结果：打开文件夹选择对话框（不是文件选择）
echo.
echo 验证要点：
echo ✓ 浏览按钮只能选择文件夹，不能选择文件
echo ✓ 路径为空时自动使用系统视频文件夹
echo ✓ 文件名为空时自动生成时间戳文件名
echo ✓ 文件名没有扩展名时自动添加.mov
echo ✓ 支持.mov和.mp4扩展名
echo ✓ 文件名可以包含中文和特殊字符
echo.
pause
