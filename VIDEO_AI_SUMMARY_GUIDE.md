# AI视频内容总结功能使用指南

## 功能简介

AIcp录屏软件现已集成先进的AI视觉分析功能，能够自动分析录制的视频内容并生成详细的文字总结。该功能使用大语言模型的视觉API来理解视频中的每一帧画面，然后生成完整的视频内容描述。

## 主要特性

### 🎯 核心功能
- **自动视频帧提取**：根据视频帧率智能提取关键帧（30fps视频每15帧提取一张，60fps视频每30帧提取一张）
- **AI视觉分析**：使用先进的视觉模型分析每帧内容
- **智能内容总结**：将所有帧的描述整合成完整的视频总结
- **多模型支持**：支持OpenAI、硅基流动、智谱AI、月之暗面等多个AI服务商

### 🔧 智能模型获取
- **自动模型列表**：点击"刷新"按钮自动获取服务商提供的所有可用模型
- **视觉模型筛选**：自动识别并优先显示支持视觉功能的模型
- **实时验证**：支持连接测试确保配置正确

## 使用步骤

### 第一步：启用视频内容总结

1. 打开AIcp录屏软件
2. 在右侧面板找到"视频内容总结"组
3. 勾选"启用视频内容总结"复选框
4. 点击"配置AI模型"按钮

### 第二步：配置AI模型

#### 2.1 选择模型提供商
在配置对话框中选择您偏好的AI服务商：
- **OpenAI**：支持GPT-4V等先进视觉模型
- **硅基流动 (SiliconFlow)**：国内优质AI服务，支持多种视觉模型
- **智谱AI (GLM)**：清华大学的GLM系列视觉模型
- **月之暗面 (Kimi)**：月之暗面的多模态模型
- **自定义**：支持其他兼容OpenAI API的服务

#### 2.2 填写API配置
- **API Base URL**：服务商的API地址（选择提供商后自动填充）
- **API Key**：您的API密钥
- **模型名称**：使用"刷新"按钮自动获取可用模型

#### 2.3 自动获取模型列表
1. 填写完Base URL和API Key后
2. 点击模型名称旁边的"刷新"按钮
3. 系统会自动调用API获取所有可用模型
4. 自动筛选并优先显示支持视觉功能的模型
5. 选择适合的视觉模型

#### 2.4 测试连接
- 点击"测试连接"按钮验证配置
- 确认显示"✅ 连接测试成功！"
- 点击"确定"保存配置

### 第三步：开始录制和分析

1. 配置完成后开始正常录制
2. 录制结束后，如果启用了视频内容总结，系统会自动开始分析
3. 在"总结内容"文本框中可以看到实时进度
4. 分析完成后会显示完整的视频内容总结

## 支持的模型提供商详细配置

### OpenAI 配置
```
提供商: OpenAI
Base URL: https://api.openai.com/v1
推荐模型: gpt-4o, gpt-4-vision-preview, gpt-4o-mini
```

### 硅基流动配置
```
提供商: 硅基流动 (SiliconFlow)
Base URL: https://api.siliconflow.cn/v1
推荐模型: OpenGVLab/InternVL2-26B, OpenGVLab/InternVL2-Llama3-76B
API文档: https://docs.siliconflow.cn/cn/api-reference/models/get-model-list
```

### 智谱AI配置
```
提供商: 智谱AI (GLM)
Base URL: https://open.bigmodel.cn/api/paas/v4
推荐模型: glm-4v-plus, glm-4v, glm-4v-flash
```

### 月之暗面配置
```
提供商: 月之暗面 (Kimi)
Base URL: https://api.moonshot.cn/v1
推荐模型: moonshot-v1-8k, moonshot-v1-32k, moonshot-v1-128k
```

## 功能特色

### 🎨 智能帧提取算法
- 根据视频帧率自动调整提取间隔
- 30fps视频：每15帧提取一张图片（约0.5秒间隔）
- 60fps视频：每30帧提取一张图片（约0.5秒间隔）
- 确保既不遗漏重要内容，又不会产生冗余分析

### 🧠 先进的AI分析
- 每帧图片都会发送给视觉模型进行详细分析
- 生成包含场景、物体、人物行为和重要细节的描述
- 支持中文输出，便于理解

### 📝 智能内容整合
- 收集所有帧的描述后，使用AI模型进行二次整合
- 生成连贯、完整的视频内容总结
- 突出主要活动、场景变化和关键信息

### 💾 自动保存功能
- 总结结果自动保存为与视频同名的.txt文件
- 包含视频文件信息、生成时间、使用的AI模型等元数据
- 便于后续查阅和管理

## 使用建议

### 🎯 最佳实践
1. **选择合适的模型**：优先选择专门的视觉模型以获得更好的分析效果
2. **确保网络稳定**：AI分析需要网络连接，确保网络稳定以避免分析中断
3. **合理控制录制时长**：过长的视频会产生大量帧需要分析，建议分段录制
4. **测试配置**：首次使用时建议先录制短视频测试功能是否正常

### ⚠️ 注意事项
- AI分析需要消耗API调用配额，请根据您的服务商套餐合理使用
- 分析时间取决于视频长度和网络速度，请耐心等待
- 建议在重要录制前先测试AI配置是否正常工作
- 某些服务商可能有API调用频率限制，系统已内置重试机制

### 💡 优化建议
- 对于教学、演示类视频效果最佳
- 画面变化较多的视频会生成更详细的总结
- 静态画面较多时可能总结相对简单

## 故障排除

### 常见问题及解决方案

**Q: 点击"刷新"按钮后显示"❌ API Key无效"**
A: 请检查API Key是否正确，确保有访问模型列表的权限

**Q: 获取到模型列表但都不是视觉模型**
A: 系统会自动标注"⚠️ 请确认支持视觉功能"，您可以查看服务商文档确认模型能力

**Q: 视频分析失败**
A: 检查网络连接、API配额余额，或尝试使用其他模型

**Q: 分析速度很慢**
A: 正常现象，分析时间取决于视频长度和API响应速度

**Q: 总结质量不理想**
A: 尝试使用更先进的视觉模型，或确保录制内容画面清晰

## 技术架构

该功能采用模块化设计，主要包含：

- **VideoFrameExtractor**：视频帧提取器，使用FFmpeg提取关键帧
- **AIVisionAnalyzer**：AI视觉分析器，调用各种AI服务API
- **VideoSummaryManager**：总结管理器，协调整个分析流程
- **AISummaryConfigDialog**：配置对话框，管理AI模型设置

## 更新日志

### v1.1.0（当前版本）
- ✅ 新增自动获取模型列表功能
- ✅ 支持智能识别视觉模型
- ✅ 优化配置界面用户体验
- ✅ 增强错误处理和状态提示
- ✅ 支持硅基流动等更多AI服务商

### v1.0.0
- ✅ 基础视频内容总结功能
- ✅ 支持OpenAI GPT-4V等主流视觉模型
- ✅ 自动帧提取和AI分析
- ✅ 智能内容整合

---

## 技术支持

如果您在使用过程中遇到问题，可以：
1. 查阅本文档的故障排除部分
2. 检查各AI服务商的官方文档
3. 确认网络连接和API配额状态

**享受AI驱动的智能视频内容分析体验！** 🚀
